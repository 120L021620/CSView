<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.60" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://www.csguide.xyz/k8s/"><meta property="og:site_name" content="CSView"><meta property="og:title" content="K8S(待整理...)"><meta property="og:description" content="介绍一下Kubernetes？ Kubernetes是一个全新的基于容器技术的分布式系统支撑平台。是Google开源的容器集群管理系统。在Docker技术的基础上，为容器化的应用提供部署运行、资源调度、服务发现和动态伸缩等一系列完整功能，提高了大规模容器集群管理的便捷性。并且具有完备的集群管理能力，多层次的安全防护和准入机制、多租户应用支撑能力、透明的..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"K8S(待整理...)","image":[""],"dateModified":null,"author":[]}</script><link rel="icon" href="/logo.png"><title>K8S(待整理...) | CSView</title><meta name="description" content="介绍一下Kubernetes？ Kubernetes是一个全新的基于容器技术的分布式系统支撑平台。是Google开源的容器集群管理系统。在Docker技术的基础上，为容器化的应用提供部署运行、资源调度、服务发现和动态伸缩等一系列完整功能，提高了大规模容器集群管理的便捷性。并且具有完备的集群管理能力，多层次的安全防护和准入机制、多租户应用支撑能力、透明的...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-516c401a.css" as="style"><link rel="stylesheet" href="/assets/style-516c401a.css">
    <link rel="modulepreload" href="/assets/app-8628a663.js"><link rel="modulepreload" href="/assets/framework-edbf9e3c.js"><link rel="modulepreload" href="/assets/index.html-b9ca8a62.js"><link rel="modulepreload" href="/assets/index.html-166de38e.js"><link rel="prefetch" href="/assets/index.html-bcfa8272.js" as="script"><link rel="prefetch" href="/assets/index.html-49a1b3e3.js" as="script"><link rel="prefetch" href="/assets/array.html-31b70e1d.js" as="script"><link rel="prefetch" href="/assets/backtrack.html-cf269d55.js" as="script"><link rel="prefetch" href="/assets/dfs.html-7c4df165.js" as="script"><link rel="prefetch" href="/assets/dp.html-a6fb37f2.js" as="script"><link rel="prefetch" href="/assets/handtearing.html-b1dea35c.js" as="script"><link rel="prefetch" href="/assets/linklist.html-b91f222c.js" as="script"><link rel="prefetch" href="/assets/other.html-b173b90d.js" as="script"><link rel="prefetch" href="/assets/stark-queue.html-b17f3125.js" as="script"><link rel="prefetch" href="/assets/string.html-e40ab06f.js" as="script"><link rel="prefetch" href="/assets/tree.html-103227a5.js" as="script"><link rel="prefetch" href="/assets/index.html-4c85f2ce.js" as="script"><link rel="prefetch" href="/assets/summary.html-593a4da4.js" as="script"><link rel="prefetch" href="/assets/index.html-ec1c4b81.js" as="script"><link rel="prefetch" href="/assets/bigdata.html-95b3b1aa.js" as="script"><link rel="prefetch" href="/assets/design.html-c4fa119b.js" as="script"><link rel="prefetch" href="/assets/index.html-3a17e4a3.js" as="script"><link rel="prefetch" href="/assets/index.html-838ece45.js" as="script"><link rel="prefetch" href="/assets/gc.html-02610e6b.js" as="script"><link rel="prefetch" href="/assets/gmp.html-6e7cf69e.js" as="script"><link rel="prefetch" href="/assets/keyword.html-bb2542b6.js" as="script"><link rel="prefetch" href="/assets/summary.html-47681d07.js" as="script"><link rel="prefetch" href="/assets/index.html-29e7ffb9.js" as="script"><link rel="prefetch" href="/assets/index.html-375b5394.js" as="script"><link rel="prefetch" href="/assets/index.html-5fa54a7c.js" as="script"><link rel="prefetch" href="/assets/index.html-8f665271.js" as="script"><link rel="prefetch" href="/assets/collection.html-af6d6b7f.js" as="script"><link rel="prefetch" href="/assets/concurrent.html-48038120.js" as="script"><link rel="prefetch" href="/assets/jvm.html-ddde47c7.js" as="script"><link rel="prefetch" href="/assets/summary.html-e1f9ceb4.js" as="script"><link rel="prefetch" href="/assets/index.html-c4047705.js" as="script"><link rel="prefetch" href="/assets/engine.html-132bb6a0.js" as="script"><link rel="prefetch" href="/assets/indexing.html-88249c24.js" as="script"><link rel="prefetch" href="/assets/lock.html-48745d9b.js" as="script"><link rel="prefetch" href="/assets/log.html-4661f0d6.js" as="script"><link rel="prefetch" href="/assets/optimize.html-bac662b3.js" as="script"><link rel="prefetch" href="/assets/summary.html-93087c45.js" as="script"><link rel="prefetch" href="/assets/transaction.html-0ebc08a8.js" as="script"><link rel="prefetch" href="/assets/index.html-39818b53.js" as="script"><link rel="prefetch" href="/assets/http.html-bbf6bdc3.js" as="script"><link rel="prefetch" href="/assets/ip.html-8519aa47.js" as="script"><link rel="prefetch" href="/assets/summary.html-f1f96181.js" as="script"><link rel="prefetch" href="/assets/tcp.html-240be223.js" as="script"><link rel="prefetch" href="/assets/index.html-f09da860.js" as="script"><link rel="prefetch" href="/assets/index.html-1e0f29bb.js" as="script"><link rel="prefetch" href="/assets/index.html-8ba3ae95.js" as="script"><link rel="prefetch" href="/assets/linux.html-daca079a.js" as="script"><link rel="prefetch" href="/assets/other.html-41898388.js" as="script"><link rel="prefetch" href="/assets/process.html-511c3b52.js" as="script"><link rel="prefetch" href="/assets/summary.html-d0ea09d6.js" as="script"><link rel="prefetch" href="/assets/index.html-5929ca67.js" as="script"><link rel="prefetch" href="/assets/apply.html-38508fe8.js" as="script"><link rel="prefetch" href="/assets/summary.html-dc7e41b1.js" as="script"><link rel="prefetch" href="/assets/index.html-27bb276b.js" as="script"><link rel="prefetch" href="/assets/index.html-640ba670.js" as="script"><link rel="prefetch" href="/assets/application.html-d0b18a45.js" as="script"><link rel="prefetch" href="/assets/colony.html-bc420990.js" as="script"><link rel="prefetch" href="/assets/data-structure.html-91c4ae42.js" as="script"><link rel="prefetch" href="/assets/persistence.html-5559ec13.js" as="script"><link rel="prefetch" href="/assets/summary.html-dbab325d.js" as="script"><link rel="prefetch" href="/assets/index.html-7cf0f31d.js" as="script"><link rel="prefetch" href="/assets/interview.html-e27af118.js" as="script"><link rel="prefetch" href="/assets/resume.html-fda6b43f.js" as="script"><link rel="prefetch" href="/assets/routine.html-969bd7f9.js" as="script"><link rel="prefetch" href="/assets/index.html-e51eb259.js" as="script"><link rel="prefetch" href="/assets/404.html-44c6fef7.js" as="script"><link rel="prefetch" href="/assets/index.html-9edce8ee.js" as="script"><link rel="prefetch" href="/assets/index.html-69b29a63.js" as="script"><link rel="prefetch" href="/assets/array.html-bd6ed6ca.js" as="script"><link rel="prefetch" href="/assets/backtrack.html-2e739fb8.js" as="script"><link rel="prefetch" href="/assets/dfs.html-b04a9fd5.js" as="script"><link rel="prefetch" href="/assets/dp.html-f220b5c1.js" as="script"><link rel="prefetch" href="/assets/handtearing.html-55a32a4e.js" as="script"><link rel="prefetch" href="/assets/linklist.html-ac321bba.js" as="script"><link rel="prefetch" href="/assets/other.html-48b5f2cd.js" as="script"><link rel="prefetch" href="/assets/stark-queue.html-8d6e9c5b.js" as="script"><link rel="prefetch" href="/assets/string.html-d88cb662.js" as="script"><link rel="prefetch" href="/assets/tree.html-7c1b311e.js" as="script"><link rel="prefetch" href="/assets/index.html-a122aa71.js" as="script"><link rel="prefetch" href="/assets/summary.html-dbefdfdb.js" as="script"><link rel="prefetch" href="/assets/index.html-6640c329.js" as="script"><link rel="prefetch" href="/assets/bigdata.html-c357755f.js" as="script"><link rel="prefetch" href="/assets/design.html-70624f2a.js" as="script"><link rel="prefetch" href="/assets/index.html-8bf0a6e5.js" as="script"><link rel="prefetch" href="/assets/index.html-01e0de70.js" as="script"><link rel="prefetch" href="/assets/gc.html-74ca5048.js" as="script"><link rel="prefetch" href="/assets/gmp.html-cf48c25b.js" as="script"><link rel="prefetch" href="/assets/keyword.html-a25eab86.js" as="script"><link rel="prefetch" href="/assets/summary.html-bad54f92.js" as="script"><link rel="prefetch" href="/assets/index.html-57110532.js" as="script"><link rel="prefetch" href="/assets/index.html-0d945e7b.js" as="script"><link rel="prefetch" href="/assets/index.html-5f6cdfed.js" as="script"><link rel="prefetch" href="/assets/index.html-554d8a41.js" as="script"><link rel="prefetch" href="/assets/collection.html-ae9b298a.js" as="script"><link rel="prefetch" href="/assets/concurrent.html-47db3c69.js" as="script"><link rel="prefetch" href="/assets/jvm.html-57ebb974.js" as="script"><link rel="prefetch" href="/assets/summary.html-c0f14f23.js" as="script"><link rel="prefetch" href="/assets/index.html-4221024b.js" as="script"><link rel="prefetch" href="/assets/engine.html-8310e877.js" as="script"><link rel="prefetch" href="/assets/indexing.html-207b6d59.js" as="script"><link rel="prefetch" href="/assets/lock.html-c607ddad.js" as="script"><link rel="prefetch" href="/assets/log.html-4656fb08.js" as="script"><link rel="prefetch" href="/assets/optimize.html-20051cc7.js" as="script"><link rel="prefetch" href="/assets/summary.html-78e6d558.js" as="script"><link rel="prefetch" href="/assets/transaction.html-f9bb0289.js" as="script"><link rel="prefetch" href="/assets/index.html-c23e44b2.js" as="script"><link rel="prefetch" href="/assets/http.html-6cc0a6f8.js" as="script"><link rel="prefetch" href="/assets/ip.html-61da2abf.js" as="script"><link rel="prefetch" href="/assets/summary.html-f10878e1.js" as="script"><link rel="prefetch" href="/assets/tcp.html-3e453bb1.js" as="script"><link rel="prefetch" href="/assets/index.html-473fb5b7.js" as="script"><link rel="prefetch" href="/assets/index.html-935199e2.js" as="script"><link rel="prefetch" href="/assets/index.html-ff6498b5.js" as="script"><link rel="prefetch" href="/assets/linux.html-7f2524b4.js" as="script"><link rel="prefetch" href="/assets/other.html-83cf45cf.js" as="script"><link rel="prefetch" href="/assets/process.html-2446d169.js" as="script"><link rel="prefetch" href="/assets/summary.html-c518882e.js" as="script"><link rel="prefetch" href="/assets/index.html-f6157133.js" as="script"><link rel="prefetch" href="/assets/apply.html-830fab71.js" as="script"><link rel="prefetch" href="/assets/summary.html-d1313dac.js" as="script"><link rel="prefetch" href="/assets/index.html-7c03f1da.js" as="script"><link rel="prefetch" href="/assets/index.html-817bd582.js" as="script"><link rel="prefetch" href="/assets/application.html-4a7e143e.js" as="script"><link rel="prefetch" href="/assets/colony.html-d3562b1b.js" as="script"><link rel="prefetch" href="/assets/data-structure.html-caee799b.js" as="script"><link rel="prefetch" href="/assets/persistence.html-763a11c4.js" as="script"><link rel="prefetch" href="/assets/summary.html-8ded76f7.js" as="script"><link rel="prefetch" href="/assets/index.html-022ce469.js" as="script"><link rel="prefetch" href="/assets/interview.html-dbb96f74.js" as="script"><link rel="prefetch" href="/assets/resume.html-dc6db334.js" as="script"><link rel="prefetch" href="/assets/routine.html-c1b13210.js" as="script"><link rel="prefetch" href="/assets/index.html-00b2064f.js" as="script"><link rel="prefetch" href="/assets/404.html-529fb7bf.js" as="script"><link rel="prefetch" href="/assets/waline-meta-a31b78ed.js" as="script"><link rel="prefetch" href="/assets/component-7ab2cb70.js" as="script"><link rel="prefetch" href="/assets/auto-ba5ecab5.js" as="script"><link rel="prefetch" href="/assets/index-8764208e.js" as="script"><link rel="prefetch" href="/assets/flowchart-35969cab.js" as="script"><link rel="prefetch" href="/assets/mermaid.esm.min-6068c030.js" as="script"><link rel="prefetch" href="/assets/mermaid-mindmap.esm.min-4cfaa638.js" as="script"><link rel="prefetch" href="/assets/highlight.esm-a794bb63.js" as="script"><link rel="prefetch" href="/assets/markdown.esm-d92a2fc9.js" as="script"><link rel="prefetch" href="/assets/math.esm-70a288c8.js" as="script"><link rel="prefetch" href="/assets/notes.esm-224f94d9.js" as="script"><link rel="prefetch" href="/assets/reveal.esm-e5069ce0.js" as="script"><link rel="prefetch" href="/assets/search.esm-2c3fba7d.js" as="script"><link rel="prefetch" href="/assets/zoom.esm-b83b91d0.js" as="script"><link rel="prefetch" href="/assets/VuePlayground-10aa7bee.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-04fddac6.js" as="script"><link rel="prefetch" href="/assets/SearchResult-56b057c4.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">跳至主要內容</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><img class="logo light" src="/logo.png" alt="CSView"><img class="logo dark" src="/logodark.png" alt="CSView"><span class="site-name hide-in-pad">CSView</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="面试必刷算法"><span class="title"><span class="font-icon icon iconfont icon-suanfaku" style=""></span>面试必刷算法</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/algorithm-mandatory/" class="nav-link" aria-label="必刷算法100题"><span class="font-icon icon iconfont icon-zhongdianbiaozhu" style=""></span>必刷算法100题<!----></a></li><li class="dropdown-item"><a href="/intelligence/" class="nav-link" aria-label="智力题"><span class="font-icon icon iconfont icon-dengpao" style=""></span>智力题<!----></a></li><li class="dropdown-item"><a href="/design/" class="nav-link" aria-label="设计题"><span class="font-icon icon iconfont icon-sheji-xianxing" style=""></span>设计题<!----></a></li><li class="dropdown-item"><a href="/hr/" class="nav-link" aria-label="HR面常见题"><span class="font-icon icon iconfont icon-mianshianpai" style=""></span>HR面常见题<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/network/" class="nav-link" aria-label="计算机网络"><span class="font-icon icon iconfont icon-wangluo1" style=""></span>计算机网络<!----></a></div><div class="nav-item hide-in-mobile"><a href="/os/" class="nav-link" aria-label="操作系统"><span class="font-icon icon iconfont icon-caozuoxitong" style=""></span>操作系统<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="数据库"><span class="title"><span class="font-icon icon iconfont icon-data-Inquire-full" style=""></span>数据库</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/mysql/" class="nav-link" aria-label="MySQL"><span class="font-icon icon iconfont icon-odbc-full" style=""></span>MySQL<!----></a></li><li class="dropdown-item"><a href="/redis/" class="nav-link" aria-label="Redis"><span class="font-icon icon iconfont icon-redis" style=""></span>Redis<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="编程语言基础"><span class="title"><span class="font-icon icon iconfont icon-biancheng-01" style=""></span>编程语言基础</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/golang/" class="nav-link" aria-label="golang"><span class="font-icon icon iconfont icon-Goyuyan" style=""></span>golang<!----></a></li><li class="dropdown-item"><a href="/cpp/" class="nav-link" aria-label="c++"><span class="font-icon icon iconfont icon-cyuyan" style=""></span>c++<!----></a></li><li class="dropdown-item"><a href="/java/" class="nav-link" aria-label="java"><span class="font-icon icon iconfont icon-java" style=""></span>java<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="中间件"><span class="title"><span class="font-icon icon iconfont icon-gongju" style=""></span>中间件</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/rabbitmq/" class="nav-link" aria-label="RabbitMQ"><span class="font-icon icon iconfont icon-RabbitMQ" style=""></span>RabbitMQ<!----></a></li><li class="dropdown-item"><a href="/nginx/" class="nav-link" aria-label="Nginx"><span class="font-icon icon iconfont icon-nginx" style=""></span>Nginx<!----></a></li><li class="dropdown-item"><a aria-current="page" href="/k8s/" class="router-link-active router-link-exact-active nav-link active" aria-label="Kubernetes"><span class="font-icon icon iconfont icon-kubernetes" style=""></span>Kubernetes<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="招聘投递网址"><span class="title"><span class="font-icon icon iconfont icon-zhaopin" style=""></span>招聘投递网址</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/offical-delivery/" class="nav-link" aria-label="官方网址"><span class="font-icon icon iconfont icon-qidongzhaopinguanli" style=""></span>官方网址<!----></a></li><li class="dropdown-item"><a href="/recommendation-delivery/" class="nav-link" aria-label="内推信息"><span class="font-icon icon iconfont icon-qidongzhaopinshenpi" style=""></span>内推信息<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="关于本站"><span class="title"><span class="font-icon icon iconfont icon-guanyu" style=""></span>关于本站</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/development-log" class="nav-link" aria-label="开发日志"><span class="font-icon icon iconfont icon-rizhi" style=""></span>开发日志<!----></a></li><li class="dropdown-item"><a href="/website-contribution" class="nav-link" aria-label="网站贡献"><span class="font-icon icon iconfont icon-gongxian" style=""></span>网站贡献<!----></a></li></ul></button></div></div></nav><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/zijing2333/CSGuide" target="_blank" rel="noopener noreferrer" aria-label="GitHub仓库"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><button class="search-pro-button" role="search" aria-label="搜索"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="placeholder">搜索</div><div class="key-hints"><kbd class="key">Ctrl</kbd><kbd class="key">K</kbd></div></button><!--]--><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><p class="sidebar-heading"><span class="font-icon icon iconfont icon-suanfaku" style=""></span><span class="title">刷题</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/algorithm-mandatory" class="nav-link sidebar-link sidebar-page" aria-label="面试必刷算法题"><span class="font-icon icon iconfont icon-zhongdianbiaozhu" style=""></span>面试必刷算法题<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/intelligence" class="nav-link sidebar-link sidebar-page" aria-label="智力题"><span class="font-icon icon iconfont icon-dengpao" style=""></span>智力题<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/design" class="nav-link sidebar-link sidebar-page" aria-label="设计题"><span class="font-icon icon iconfont icon-sheji-xianxing" style=""></span>设计题<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/hr" class="nav-link sidebar-link sidebar-page" aria-label="HR面常见题"><span class="font-icon icon iconfont icon-mianshianpai" style=""></span>HR面常见题<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><!--[--><a href="/os" class="nav-link sidebar-link sidebar-page" aria-label="操作系统"><span class="font-icon icon iconfont icon-caozuoxitong" style=""></span>操作系统<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><section class="sidebar-group"><p class="sidebar-heading"><span class="font-icon icon iconfont icon-data-Inquire-full" style=""></span><span class="title">数据库</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/mysql" class="nav-link sidebar-link sidebar-page" aria-label="MySQL"><span class="font-icon icon iconfont icon-odbc-full" style=""></span>MySQL<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/redis" class="nav-link sidebar-link sidebar-page" aria-label="Redis"><span class="font-icon icon iconfont icon-redis" style=""></span>Redis<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading"><span class="font-icon icon iconfont icon-biancheng-01" style=""></span><span class="title">编程语言基础</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/golang" class="nav-link sidebar-link sidebar-page" aria-label="golang"><span class="font-icon icon iconfont icon-Goyuyan" style=""></span>golang<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/cpp" class="nav-link sidebar-link sidebar-page" aria-label="c++"><span class="font-icon icon iconfont icon-cyuyan" style=""></span>c++<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java" class="nav-link sidebar-link sidebar-page" aria-label="java"><span class="font-icon icon iconfont icon-java" style=""></span>java<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading"><span class="font-icon icon iconfont icon-gongju" style=""></span><span class="title">中间件</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/rabbitmq" class="nav-link sidebar-link sidebar-page" aria-label="RabbitMQ"><span class="font-icon icon iconfont icon-RabbitMQ" style=""></span>RabbitMQ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/nginx" class="nav-link sidebar-link sidebar-page" aria-label="Nginx"><span class="font-icon icon iconfont icon-nginx" style=""></span>Nginx<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/k8s" class="router-link-active router-link-exact-active nav-link sidebar-link sidebar-page" aria-label="Kubernetes"><span class="font-icon icon iconfont icon-kubernetes" style=""></span>Kubernetes<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->K8S(待整理...)</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">zijing2333</span></span><span property="author" content="zijing2333"></span></span><!----><!----><span class="page-pageview-info" aria-label="访问量🔢" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon eye-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="eye icon"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 00-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z"></path></svg><span class="waline-pageview-count" id="ArtalkPV" data-path="/k8s/">...</span></span><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 39 分钟</span><meta property="timeRequired" content="PT39M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">此页内容<!----></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#介绍一下kubernetes" class="router-link-active router-link-exact-active toc-link level3">介绍一下Kubernetes？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#etcd及其特点" class="router-link-active router-link-exact-active toc-link level3">ETCD及其特点？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes和docker的关系" class="router-link-active router-link-exact-active toc-link level3">Kubernetes和Docker的关系？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes中什么是minikube、kubectl、kubelet" class="router-link-active router-link-exact-active toc-link level3">Kubernetes中什么是Minikube、Kubectl、Kubelet？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes的部署方式" class="router-link-active router-link-exact-active toc-link level3">Kubernetes的部署方式？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes如何实现集群管理" class="router-link-active router-link-exact-active toc-link level3">Kubernetes如何实现集群管理？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes的优势、适应场景及其特点" class="router-link-active router-link-exact-active toc-link level3">Kubernetes的优势、适应场景及其特点？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes相关基础概念" class="router-link-active router-link-exact-active toc-link level3">Kubernetes相关基础概念？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes集群相关组件" class="router-link-active router-link-exact-active toc-link level3">Kubernetes集群相关组件？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes-rc的机制" class="router-link-active router-link-exact-active toc-link level3">Kubernetes RC的机制？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes-replica-set-和-replication-controller-之间有什么区别" class="router-link-active router-link-exact-active toc-link level3">Kubernetes Replica Set 和 Replication Controller 之间有什么区别？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kube-proxy作用" class="router-link-active router-link-exact-active toc-link level3">kube-proxy作用？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kube-proxy-iptables原理" class="router-link-active router-link-exact-active toc-link level3">kube-proxy iptables原理？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kube-proxy-ipvs原理" class="router-link-active router-link-exact-active toc-link level3">kube-proxy ipvs原理？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kube-proxy-ipvs和iptables的异同" class="router-link-active router-link-exact-active toc-link level3">kube-proxy ipvs和iptables的异同？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes中什么是静态pod" class="router-link-active router-link-exact-active toc-link level3">Kubernetes中什么是静态Pod？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes中pod可能位于的状态" class="router-link-active router-link-exact-active toc-link level3">Kubernetes中Pod可能位于的状态？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes创建一个pod的主要流程" class="router-link-active router-link-exact-active toc-link level3">Kubernetes创建一个Pod的主要流程？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes中pod的重启策略" class="router-link-active router-link-exact-active toc-link level3">Kubernetes中Pod的重启策略？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes中pod的健康检查方式" class="router-link-active router-link-exact-active toc-link level3">Kubernetes中Pod的健康检查方式？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes-pod的livenessprobe探针的常见方式" class="router-link-active router-link-exact-active toc-link level3">Kubernetes Pod的LivenessProbe探针的常见方式？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes-pod的常见调度方式" class="router-link-active router-link-exact-active toc-link level3">Kubernetes Pod的常见调度方式？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes初始化容器-init-container" class="router-link-active router-link-exact-active toc-link level3">Kubernetes初始化容器(init container）？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes-deployment升级过程" class="router-link-active router-link-exact-active toc-link level3">Kubernetes deployment升级过程？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes-deployment升级策略" class="router-link-active router-link-exact-active toc-link level3">Kubernetes deployment升级策略？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes-daemonset类型的资源特性" class="router-link-active router-link-exact-active toc-link level3">Kubernetes DaemonSet类型的资源特性？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes自动扩容机制" class="router-link-active router-link-exact-active toc-link level3">Kubernetes自动扩容机制？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes-service类型" class="router-link-active router-link-exact-active toc-link level3">Kubernetes Service类型？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes-service分发后端的策略" class="router-link-active router-link-exact-active toc-link level3">Kubernetes Service分发后端的策略？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes-headless-service" class="router-link-active router-link-exact-active toc-link level3">Kubernetes Headless Service？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes外部如何访问集群内的服务" class="router-link-active router-link-exact-active toc-link level3">Kubernetes外部如何访问集群内的服务？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes-ingress" class="router-link-active router-link-exact-active toc-link level3">Kubernetes ingress？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes的负载均衡器" class="router-link-active router-link-exact-active toc-link level3">Kubernetes的负载均衡器？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes各模块如何与api-server通信" class="router-link-active router-link-exact-active toc-link level3">Kubernetes各模块如何与API Server通信？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes-scheduler作用及实现原理" class="router-link-active router-link-exact-active toc-link level3">Kubernetes Scheduler作用及实现原理？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes-scheduler使用哪两种算法将pod绑定到worker节点" class="router-link-active router-link-exact-active toc-link level3">Kubernetes Scheduler使用哪两种算法将Pod绑定到worker节点？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes-kubelet的作用" class="router-link-active router-link-exact-active toc-link level3">Kubernetes kubelet的作用？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes-kubelet监控worker节点资源是使用什么组件来实现的" class="router-link-active router-link-exact-active toc-link level3">Kubernetes kubelet监控Worker节点资源是使用什么组件来实现的？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes如何保证集群的安全性" class="router-link-active router-link-exact-active toc-link level3">Kubernetes如何保证集群的安全性？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes准入机制" class="router-link-active router-link-exact-active toc-link level3">Kubernetes准入机制？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes-rbac及其特点-优势" class="router-link-active router-link-exact-active toc-link level3">Kubernetes RBAC及其特点(优势）？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes-secret作用" class="router-link-active router-link-exact-active toc-link level3">Kubernetes Secret作用？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes-secret有哪些使用方式" class="router-link-active router-link-exact-active toc-link level3">Kubernetes Secret有哪些使用方式？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes-podsecuritypolicy机制" class="router-link-active router-link-exact-active toc-link level3">Kubernetes PodSecurityPolicy机制？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes-podsecuritypolicy机制能实现哪些安全策略" class="router-link-active router-link-exact-active toc-link level3">Kubernetes PodSecurityPolicy机制能实现哪些安全策略？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes网络模型" class="router-link-active router-link-exact-active toc-link level3">Kubernetes网络模型？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes-cni模型" class="router-link-active router-link-exact-active toc-link level3">Kubernetes CNI模型？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes网络策略" class="router-link-active router-link-exact-active toc-link level3">Kubernetes网络策略？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes网络策略原理" class="router-link-active router-link-exact-active toc-link level3">Kubernetes网络策略原理？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes中flannel的作用" class="router-link-active router-link-exact-active toc-link level3">Kubernetes中flannel的作用？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes共享存储的作用" class="router-link-active router-link-exact-active toc-link level3">Kubernetes共享存储的作用？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes数据持久化的方式有哪些" class="router-link-active router-link-exact-active toc-link level3">Kubernetes数据持久化的方式有哪些？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes-pv和pvc" class="router-link-active router-link-exact-active toc-link level3">Kubernetes PV和PVC？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes-pv生命周期内的阶段" class="router-link-active router-link-exact-active toc-link level3">Kubernetes PV生命周期内的阶段？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes所支持的存储供应模式" class="router-link-active router-link-exact-active toc-link level3">Kubernetes所支持的存储供应模式？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes-csi模型" class="router-link-active router-link-exact-active toc-link level3">Kubernetes CSI模型？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes-worker节点加入集群的过程" class="router-link-active router-link-exact-active toc-link level3">Kubernetes Worker节点加入集群的过程？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes-pod如何实现对节点的资源控制" class="router-link-active router-link-exact-active toc-link level3">Kubernetes Pod如何实现对节点的资源控制？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes-requests和limits如何影响pod的调度" class="router-link-active router-link-exact-active toc-link level3">Kubernetes Requests和Limits如何影响Pod的调度？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes-metric-service" class="router-link-active router-link-exact-active toc-link level3">Kubernetes Metric Service？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes中-如何使用efk实现日志的统一管理" class="router-link-active router-link-exact-active toc-link level3">Kubernetes中，如何使用EFK实现日志的统一管理？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes如何进行优雅的节点关机维护" class="router-link-active router-link-exact-active toc-link level3">Kubernetes如何进行优雅的节点关机维护？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#kubernetes集群联邦" class="router-link-active router-link-exact-active toc-link level3">Kubernetes集群联邦？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/k8s/#helm及其优势" class="router-link-active router-link-exact-active toc-link level3">Helm及其优势？</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h3 id="介绍一下kubernetes" tabindex="-1"><a class="header-anchor" href="#介绍一下kubernetes" aria-hidden="true">#</a> 介绍一下Kubernetes？</h3><p>Kubernetes是一个全新的基于容器技术的分布式系统支撑平台。是Google开源的容器集群管理系统。在Docker技术的基础上，为容器化的应用提供部署运行、资源调度、服务发现和动态伸缩等一系列完整功能，提高了大规模容器集群管理的便捷性。并且具有完备的集群管理能力，多层次的安全防护和准入机制、多租户应用支撑能力、透明的服务注册和发现机制、内建智能负载均衡器、强大的故障发现和自我修复能力、服务滚动升级和在线扩容能力、可扩展的资源自动调度机制以及多粒度的资源配额管理能力。</p><h3 id="etcd及其特点" tabindex="-1"><a class="header-anchor" href="#etcd及其特点" aria-hidden="true">#</a> ETCD及其特点？</h3><p>ETCD是一个管理配置信息和服务发现的项目， 它的目标是构建一个高可用的分布式键值数据库，基于Go语言实现。</p><p><strong>特点</strong></p><ul><li><p>简单：支持 REST 风格的 HTTP+JSON API</p></li><li><p>安全：支持 HTTPS 方式的访问快速：支持并发 1k/s 的写操作</p></li><li><p>可靠：支持分布式结构，基于 Raft 的一致性算法，Raft 是一套通过选举主节点来实现分布式系统一致性的算法</p></li></ul><p><strong>应用场景</strong></p><ul><li><strong>服务发现</strong>：服务发现主要解决在同一个分布式集群中的进程或服务，要如何才能找到对方并建立连接。本质上来说，服务发现就是想要了解集群中是否有进程在监听UDP或TCP端口，并且通过名字就可以查找和连接。</li><li><strong>消息发布与订阅</strong>：在分布式系统中，最适用的一种组件间通信方式就是消息发布与订阅。即构建一个配置共享中心，数据提供者在这个配置中心发布消息，而消息使用者则订阅他们关心的主题，一旦主题有消息发布，就会实时通知订阅者。通过这种方式可以做到分布式系统配置的集中式管理与动态更新。应用中用到的一些配置信息放到ETCD上进行集中管理。</li><li><strong>负载均衡</strong>：在分布式系统中，为了保证服务的高可用以及数据的一致性，通常都会把数据和服务部署多份，以此达到对等服务，即使其中的某一个服务失效了，也不影响使用。ETCD本身分布式架构存储的信息访问支持负载均衡。ETCD集群化以后，每个ETCD的核心节点都可以处理用户的请求。所以，把数据量小但是访问频繁的消息数据直接存储到ETCD中也可以实现负载均衡的效果。</li><li><strong>分布式通知与协调</strong>：与消息发布和订阅类似，都用到了ETCD中的Watcher机制，通过注册与异步通知机制，实现分布式环境下不同系统之间的通知与协调，从而对数据变更做到实时处理。</li><li><strong>分布式锁</strong>：因为ETCD使用Raft算法保持了数据的强一致性，某次操作存储到集群中的值必然是全局一致的，所以很容易实现分布式锁。锁服务有两种使用方式，一是保持独占，二是控制时序。</li><li><strong>集群监控与Leader竞选</strong>：通过ETCD来进行监控实现起来非常简单并且实时性强。</li></ul><h3 id="kubernetes和docker的关系" tabindex="-1"><a class="header-anchor" href="#kubernetes和docker的关系" aria-hidden="true">#</a> Kubernetes和Docker的关系？</h3><p>Docker提供容器的生命周期管理和，Docker镜像构建运行时容器。它的主要优点是将软件/应用程序运行所需的设置和依赖项打包到一个容器中，从而实现了可移植性等优点。</p><p>Kubernetes用于关联和编排在多个主机上运行的容器。</p><h3 id="kubernetes中什么是minikube、kubectl、kubelet" tabindex="-1"><a class="header-anchor" href="#kubernetes中什么是minikube、kubectl、kubelet" aria-hidden="true">#</a> Kubernetes中什么是Minikube、Kubectl、Kubelet？</h3><p>Minikube是一种可以在本地轻松运行一个单节点Kubernetes群集的工具。</p><p>Kubectl是一个命令行工具，可以使用该工具控制Kubernetes集群管理器，如检查群集资源，创建、删除和更新组件，查看应用程序。</p><p>Kubelet是一个代理服务，它在每个节点上运行，并使从服务器与主服务器通信。</p><h3 id="kubernetes的部署方式" tabindex="-1"><a class="header-anchor" href="#kubernetes的部署方式" aria-hidden="true">#</a> Kubernetes的部署方式？</h3><p>常见的Kubernetes部署方式有：kubeadm：也是推荐的一种部署方式；二进制。</p><h3 id="kubernetes如何实现集群管理" tabindex="-1"><a class="header-anchor" href="#kubernetes如何实现集群管理" aria-hidden="true">#</a> Kubernetes如何实现集群管理？</h3><p>Kubernetes将集群中的机器划分为一个Master节点和一群工作节点Node。其中，在Master节点运行着集群管理相关的一组进程kube-apiserver、kube-controller-manager和kube- scheduler，这些进程实现了整个集群的资源管理、Pod调度、弹性伸缩、安全控制、系统监控和纠错等管理能力，并且都是全自动完成的。</p><h3 id="kubernetes的优势、适应场景及其特点" tabindex="-1"><a class="header-anchor" href="#kubernetes的优势、适应场景及其特点" aria-hidden="true">#</a> Kubernetes的优势、适应场景及其特点？</h3><p><strong>优势</strong></p><ul><li><p>容器编排轻量级开源</p></li><li><p>弹性伸缩负载均衡</p></li></ul><p><strong>常见场景</strong></p><ul><li><p>快速部署应用快速扩展应用</p></li><li><p>无缝对接新的应用功能</p></li><li><p>节省资源，优化硬件资源的使用</p></li></ul><p><strong>特点</strong></p><ul><li><p>可移植：支持公有云、私有云、混合云、多重云(multi-cloud）</p></li><li><p>可扩展：模块化,、插件化、可挂载、可组合。</p></li><li><p>自动化：自动部署、自动重启、自动复制、自动伸缩/扩展</p></li></ul><h3 id="kubernetes相关基础概念" tabindex="-1"><a class="header-anchor" href="#kubernetes相关基础概念" aria-hidden="true">#</a> Kubernetes相关基础概念？</h3><p><strong>Master</strong></p><p>k8s集群的管理节点，负责管理集群，提供集群的资源数据访问入口。拥有ETCD存储服务，运行Api Server进程，Controller Manager服务进程及Scheduler服务进程。</p><p><strong>Node(worker)</strong></p><p>Node(worker)是Kubernetes集群架构中运行Pod的服务节点，是Kubernetes集群操作的单元，用来承载被分配Pod的运行，是Pod运行的宿主机。运行docker eninge服务，守护进程kunelet及负载均衡器kube-proxy。</p><p><strong>Pod</strong></p><p>运行于Node节点上，若干相关容器的组合。Pod内包含的容器运行在同一宿主机上，使用相同的网络命名空间、IP地址和端口，能够通过localhost进行通信。Pod是Kurbernetes进行创建、调度和管理的最小单位，它提供了比容器更高层次的抽象，使得部署和管理更加灵活。一个Pod可以包含一个容器或者多个相关容器。</p><p><strong>Label</strong></p><p>Kubernetes中的实质是一系列的Key/Value键值对，其中key与value可自定义。Label可以附加到各种资源对象上，如Node、Pod、Service、RC等。一个资源对象可以定义任意数量的Label，同一个Label也可以被添加到任意数量的资源对象上去。Kubernetes通过Label Selector查询和筛选资源对象。</p><p><strong>Replication Controller</strong></p><p>Replication Controller用来管理Pod的副本，保证集群中存在指定数量的Pod副本。集群中副本的数量大于指定数量，则会停止指定数量之外的多余容器数量。反之，则会启动 少于指定数量个数的容器，保证数量不变。RC是实现弹性伸缩、动态扩容和滚动升级的核心。</p><p><strong>Deployment</strong></p><p>Deployment在内部使用了RS来实现目的，Deployment相当于RC的一次升级，其最大的特色为可以随时获知当前Pod的部署进度。</p><p><strong>HPA</strong></p><p>Pod的横向自动扩容，也是Kubernetes的一种资源，通过追踪分析RC控制的所有Pod目标的负载变化情况，来确定是否需要针对性的调整Pod副本数量。</p><p><strong>Service</strong></p><p>定义了Pod的逻辑集合和访问该集合的策略，是真实服务的抽象。Service提供了一个统一的服务访问入口以及服务代理和发现机制，关联多个相同Label的Pod，用户不需要了解后台Pod是如何运行。</p><p><strong>Volume</strong></p><p>Volume是Pod中能够被多个容器访问的共享目录，Kubernetes中的Volume是定义在Pod上，可以被一个或多个Pod中的容器挂载到某个目录下。</p><p><strong>Namespace</strong></p><p>Namespace用于实现多租户的资源隔离，可将集群内部的资源对象分配到不同的Namespace中，形成逻辑上的不同项目、小组或用户组，便于不同的Namespace在共享使用整个集群的资源的同时还能被分别管理。</p><h3 id="kubernetes集群相关组件" tabindex="-1"><a class="header-anchor" href="#kubernetes集群相关组件" aria-hidden="true">#</a> Kubernetes集群相关组件？</h3><p><strong>API Server</strong></p><p>作为Kubernetes系统的入口，其封装了核心对象的增删改查操作，以RESTful API接口方式提供给外部客户和内部组件调用，集群内各个功能模块之间数据交互和通信的中心枢纽。</p><p><strong>Scheduler</strong></p><p>为新建立的Pod进行节点(node)选择(即分配机器)，负责集群的资源调度。</p><p><strong>Kubernetes Controller</strong></p><p>负责执行各种控制器，目前已经提供了很多控制器来保证Kubernetes的正常运行。</p><p><strong>Replication Controller</strong></p><p>管理维护Replication Controller，关联Replication Controller和Pod，保证Replication Controller定义的副本数量与实际运行Pod数量一致。</p><p><strong>Node Controller</strong></p><p>管理维护Node，定期检查Node的健康状态，标识出(失效|未失效)的Node节点。</p><p><strong>Namespace Controller</strong></p><p>管理维护Namespace，定期清理无效的Namespace，包括Namesapce下的API对象，比如Pod、Service等。</p><p><strong>Service Controller</strong></p><p>管理维护Service，提供负载以及服务代理。</p><p><strong>EndPoints Controller</strong></p><p>管理维护Endpoints，关联Service和Pod，创建Endpoints为Service的后端， 当Pod发生变化时，实时更新Endpoints。</p><p><strong>Service Account Controller</strong></p><p>管理维护Service Account，为每个Namespace创建默认的Service Account，同时为Service Account创建Service Account Secret。 Persistent Volume Controller：管理维护Persistent Volume和Persistent Volume Claim，为新的Persistent Volume Claim分配Persistent Volume进行绑定，为释放的Persistent Volume执行清理回收。</p><p><strong>Daemon Set Controller</strong></p><p>管理维护Daemon Set，负责创建Daemon Pod，保证指定的Node上正常的运行Daemon Pod。</p><p><strong>Deployment Controller</strong></p><p>管理维护Deployment，关联Deployment和Replication Controller，保证运行指定数量的Pod。当Deployment更新时，控制实现Replication Controller和Pod的更新。</p><p><strong>Job Controller</strong></p><p>管理维护Job，为Jod创建一次性任务Pod，保证完成Job指定完成的任务数目</p><p><strong>Pod Autoscaler Controller</strong></p><p>实现Pod的自动伸缩，定时获取监控数据，进行策略匹配，当满足条件时执行Pod的伸缩动作。</p><h3 id="kubernetes-rc的机制" tabindex="-1"><a class="header-anchor" href="#kubernetes-rc的机制" aria-hidden="true">#</a> Kubernetes RC的机制？</h3><p>Replication Controller用来管理Pod的副本，保证集群中存在指定数量的Pod副本。当定义了RC并提交至Kubernetes集群中之后，Master节点上的Controller Manager组件获悉，并同时巡检系统中当前存活的目标Pod，并确保目标Pod实例的数量刚好等于此RC的期望值，若存在过多的Pod副本在运行，系统会停止一些Pod，反之则自动创建一些Pod。</p><h3 id="kubernetes-replica-set-和-replication-controller-之间有什么区别" tabindex="-1"><a class="header-anchor" href="#kubernetes-replica-set-和-replication-controller-之间有什么区别" aria-hidden="true">#</a> Kubernetes Replica Set 和 Replication Controller 之间有什么区别？</h3><p>Replica Set和Replication Controller类似，都是确保在任何给定时间运行指定数量的Pod副本。不同之处在于RS使用基于集合的选择器，而Replication Controller使用基于权限的选择器。</p><h3 id="kube-proxy作用" tabindex="-1"><a class="header-anchor" href="#kube-proxy作用" aria-hidden="true">#</a> kube-proxy作用？</h3><p>kube-proxy运行在所有节点上，它监听apiserver中service和endpoint的变化情况，创建路由规则以提供服务IP和负载均衡功能。Service的透明代理兼负载均衡器，其核心功能是将到某个Service的访问请求转发到后端的多个Pod实例上。</p><h3 id="kube-proxy-iptables原理" tabindex="-1"><a class="header-anchor" href="#kube-proxy-iptables原理" aria-hidden="true">#</a> kube-proxy iptables原理？</h3><p>Kubernetes从1.2版本开始，将iptables作为kube-proxy的默认模式。iptables模式下的kube-proxy不再起到Proxy的作用，其核心功能：通过API Server的Watch接口实时跟踪Service与Endpoint的变更信息，并更新对应的iptables规则，Client的请求流量则通过iptables的NAT机制路由到目标Pod。</p><h3 id="kube-proxy-ipvs原理" tabindex="-1"><a class="header-anchor" href="#kube-proxy-ipvs原理" aria-hidden="true">#</a> kube-proxy ipvs原理？</h3><p>IPVS在Kubernetes1.11中升级为GA稳定版。IPVS则专门用于高性能负载均衡，并使用更高效的数据结构(Hash表），允许几乎无限的规模扩张，因此被kube-proxy采纳为最新模式。</p><p>在IPVS模式下，使用iptables的扩展ipset，而不是直接调用iptables来生成规则链。iptables规则链是一个线性的数据结构，ipset则引入了带索引的数据结构，因此当规则很多时，也可以很高效地查找和匹 配。</p><p>可以将ipset简单理解为一个IP的集合，这个集合的内容可以是IP地址、IP网段、端口等，iptables可以直接添加规则对这个可变的集合进行操作，这样做的好处在于可以大大减少iptables规则的数量， 从而减少性能损耗。</p><h3 id="kube-proxy-ipvs和iptables的异同" tabindex="-1"><a class="header-anchor" href="#kube-proxy-ipvs和iptables的异同" aria-hidden="true">#</a> kube-proxy ipvs和iptables的异同？</h3><p>iptables与IPVS都是基于Netfilter实现的，但因为定位不同，二者有着本质的差别：iptables是为防火墙而设计的；IPVS则专门用于高性能负载均衡，并使用更高效的数据结构(Hash表）。</p><p>与iptables相比，IPVS拥有以下明显优势：</p><ul><li><p>为大型集群提供了更好的可扩展性和性能</p></li><li><p>支持比iptables更复杂的复制均衡算法(最小负载、最少连接、加权等）</p></li><li><p>支持服务器健康检查和连接重试等功能</p></li><li><p>可以动态修改ipset的集合，即使iptables的规则正在使用这个集合</p></li></ul><h3 id="kubernetes中什么是静态pod" tabindex="-1"><a class="header-anchor" href="#kubernetes中什么是静态pod" aria-hidden="true">#</a> Kubernetes中什么是静态Pod？</h3><p>静态pod是由kubelet进行管理的仅存在于特定Node的Pod上，他们不能通过API Server进行管理，无法与ReplicationController、Deployment或者DaemonSet进行关联，并且kubelet无法对他们进行健康检 查。静态Pod总是由kubelet进行创建，并且总是在kubelet所在的Node上运行。</p><h3 id="kubernetes中pod可能位于的状态" tabindex="-1"><a class="header-anchor" href="#kubernetes中pod可能位于的状态" aria-hidden="true">#</a> Kubernetes中Pod可能位于的状态？</h3><p>Pending：API Server已经创建该Pod，且Pod内还有一个或多个容器的镜像没有创建，包括正在下载镜像的过程。</p><p>Running：Pod内所有容器均已创建，且至少有一个容器处于运行状态、正在启动状态或正在重启状态。</p><p>Succeeded：Pod内所有容器均成功执行退出，且不会重启。</p><p>Failed：Pod内所有容器均已退出，但至少有一个容器退出为失败状态。</p><p>Unknown：由于某种原因无法获取该Pod状态，可能由于网络通信不畅导致。</p><h3 id="kubernetes创建一个pod的主要流程" tabindex="-1"><a class="header-anchor" href="#kubernetes创建一个pod的主要流程" aria-hidden="true">#</a> Kubernetes创建一个Pod的主要流程？</h3><p>Kubernetes中创建一个Pod涉及多个组件之间联动，主要流程如下：</p><ul><li><p>客户端提交Pod的配置信息(可以是yaml文件定义的信息）到kube-apiserver。</p></li><li><p>Apiserver收到指令后，通知给controller-manager创建一个资源对象。</p></li><li><p>Controller-manager通过api-server将pod的配置信息存储到ETCD数据中心中。</p></li><li><p>Kube-scheduler检测到pod信息会开始调度预选，会先过滤掉不符合Pod资源配置要求的节点，然后开始调度调优，主要是挑选出更适合运行pod的节点，然后将pod的资源配置单发送到node节点上的kubelet组件上。</p></li><li><p>Kubelet根据scheduler发来的资源配置单运行pod，运行成功后，将pod的运行信息返回给scheduler，scheduler将返回的pod运行状况的信息存储到etcd数据中心。</p></li></ul><h3 id="kubernetes中pod的重启策略" tabindex="-1"><a class="header-anchor" href="#kubernetes中pod的重启策略" aria-hidden="true">#</a> Kubernetes中Pod的重启策略？</h3><p>Pod重启策略(RestartPolicy）应用于Pod内的所有容器，并且仅在Pod所处的Node上由kubelet进行判断和重启操作。当某个容器异常退出或者健康检查失败时，kubelet将根据RestartPolicy的设置来进行相应操作。Pod的重启策略包括Always、OnFailure和Never，默认值为Always。</p><ul><li><p>Always：当 容 器 失 效 时 ， 由 kubelet 自 动 重 启 该 容 器</p></li><li><p>OnFailure：当容器终止运行且退出码不为0时，由kubelet自动重启该容器</p></li><li><p>Never：不论容器运行状态如何，kubelet都不会重启该容器</p></li></ul><p>同时Pod的重启策略与控制方式关联，当前可用于管理Pod的控制器包括ReplicationController、Job、DaemonSet及直接管理kubelet管理(静态Pod）。</p><p>不同控制器的重启策略限制如下：</p><ul><li>RC和DaemonSet：必须设置为Always，需要保证该容器持续运行</li><li>Job：OnFailure或Never，确保容器执行完成后不再重启</li><li>kubelet：在Pod失效时重启，不论将RestartPolicy设置为何值，也不会对Pod进行健康检查</li></ul><h3 id="kubernetes中pod的健康检查方式" tabindex="-1"><a class="header-anchor" href="#kubernetes中pod的健康检查方式" aria-hidden="true">#</a> Kubernetes中Pod的健康检查方式？</h3><p>对Pod的健康检查可以通过两类探针来检查：LivenessProbe和ReadinessProbe。</p><ul><li><p>LivenessProbe探针：用于判断容器是否存活(running状态），如果LivenessProbe探针探测到容器不健康，则kubelet将杀掉该容器，并根据容器的重启策略做相应处理。若一个容器不包含LivenessProbe探针，kubelet认为该容器的LivenessProbe探针返回值用于是“Success”。</p></li><li><p>ReadineeProbe探针：用于判断容器是否启动完成(ready状态）。如果ReadinessProbe探针探测到失败，则Pod的状态将被修改。Endpoint Controller将从Service的Endpoint中删除包含该容器所在Pod 的Eenpoint。</p></li><li><p>startupProbe探针：启动检查机制，应用一些启动缓慢的业务，避免业务长时间启动而被上面两类探针kill掉。</p></li></ul><h3 id="kubernetes-pod的livenessprobe探针的常见方式" tabindex="-1"><a class="header-anchor" href="#kubernetes-pod的livenessprobe探针的常见方式" aria-hidden="true">#</a> Kubernetes Pod的LivenessProbe探针的常见方式？</h3><p>kubelet定期执行LivenessProbe探针来诊断容器的健康状态，通常有以下三种方式：</p><p>ExecAction：在容器内执行一个命令 ， 若返回码为0，则表明容器健康。</p><p>TCPSocketAction：通过容器的IP地址和端口号执行TCP检查，若能建立TCP连接，则表明容器健康。</p><p>HTTPGetAction：通过容器的IP地址、端口号及路径调用HTTP Get方法，若响应的状态码大于等于200且小于400，则表明容器健康。</p><h3 id="kubernetes-pod的常见调度方式" tabindex="-1"><a class="header-anchor" href="#kubernetes-pod的常见调度方式" aria-hidden="true">#</a> Kubernetes Pod的常见调度方式？</h3><p><strong>Deployment或RC</strong></p><p>该调度策略主要功能就是自动部署一个容器应用的多份副本，以及持续监控副本的数量，在集群内始终维持用户指定的副本数量。</p><p><strong>NodeSelector</strong></p><p>定向调度，当需要手动指定将Pod调度到特定Node上，可以通过Node的标签。Label和Pod的nodeSelector属性相匹配。</p><p><strong>NodeAffinity亲和性调度</strong></p><p>requiredDuringSchedulingIgnoredDuringExecution：硬规则，必须满足指定的规则，调度器才可以调度Pod至Node上(类似nodeSelector，语法不同）。preferredDuringSchedulingIgnoredDuringExecution：软规则，优先调度至满足的Node的节点，但不强求，多个优先级规则还可以设置权重值。</p><p><strong>Taints和Tolerations(污点和容忍）</strong></p><p>使Node拒绝特定Pod运行。</p><p><strong>Toleration</strong></p><p>为Pod的属性，表示Pod能容忍标注了Taint的Node。</p><h3 id="kubernetes初始化容器-init-container" tabindex="-1"><a class="header-anchor" href="#kubernetes初始化容器-init-container" aria-hidden="true">#</a> Kubernetes初始化容器(init container）？</h3><p>init container的运行方式与应用容器不同，它们必须先于应用容器执行完成，当设置了多个init container时，将按顺序逐个运行，并且只有前一个init container运行成功后才能运行后一个init container。当所有init container都成功运行后，Kubernetes才会初始化Pod的各种信息，并开始创建和运行应用容器。</p><h3 id="kubernetes-deployment升级过程" tabindex="-1"><a class="header-anchor" href="#kubernetes-deployment升级过程" aria-hidden="true">#</a> Kubernetes deployment升级过程？</h3><p>初始创建Deployment时，系统创建了一个ReplicaSet，并按用户的需求创建了对应数量的Pod副本。当更新Deployment时，系统创建了一个新的ReplicaSet，并将其副本数量扩展到1，然后将旧ReplicaSet缩减为2。之后，系统继续按照相同的更新策略对新旧两个ReplicaSet进行逐个调整。最后，新的ReplicaSet运行了对应个新版本Pod副本，旧的ReplicaSet副本数量则缩减为0。</p><h3 id="kubernetes-deployment升级策略" tabindex="-1"><a class="header-anchor" href="#kubernetes-deployment升级策略" aria-hidden="true">#</a> Kubernetes deployment升级策略？</h3><p>在Deployment的定义中，可以通过spec.strategy指定Pod更新的策略，目前支持两种策略：</p><p>Recreate(重建）和RollingUpdate(滚动更新），默认值为RollingUpdate。</p><p>Recreate：设置spec.strategy.type=Recreate，表示Deployment在更新Pod时，会先杀掉所有正在运行的Pod，然后创建新的Pod。</p><p>RollingUpdate：设置spec.strategy.type=RollingUpdate，表示Deployment会以滚动更新的方式来逐个更新Pod。同时，可以通过设置spec.strategy.rollingUpdate下的两个参数(maxUnavailable和maxSurge）来控制滚动更新的过程。</p><h3 id="kubernetes-daemonset类型的资源特性" tabindex="-1"><a class="header-anchor" href="#kubernetes-daemonset类型的资源特性" aria-hidden="true">#</a> Kubernetes DaemonSet类型的资源特性？</h3><p>DaemonSet资源对象会在每个Kubernetes集群中的节点上运行，并且每个节点只能运行一个pod，这是它和deployment资源对象的最大也是唯一的区别。因此，在定义yaml文件中，不支持定义replicas。</p><p>它的一般使用场景如下：在去做每个节点的日志收集工作。监控每个节点的的运行状态。</p><h3 id="kubernetes自动扩容机制" tabindex="-1"><a class="header-anchor" href="#kubernetes自动扩容机制" aria-hidden="true">#</a> Kubernetes自动扩容机制？</h3><p>Kubernetes使用Horizontal Pod Autoscaler(HPA）的控制器实现基于CPU使用率进行自动Pod扩缩容的功能。HPA控制器周期性地监测目标Pod的资源性能指标，并与HPA资源对象中的扩缩容条件进行对比，在满足条件时对Pod副本数量进行调整。</p><p><strong>HPA原理</strong></p><p>Kubernetes中的某个Metrics Server(Heapster或自定义Metrics Server）持续采集所有Pod副本的指标数据。HPA控制器通过Metrics Server的API(Heapster的API或聚合API）获取这些数据，基于用户定义的扩缩容规则进行计算，得到目标Pod副本数量。当目标Pod副本数量与当前副本数量不同时，HPA控制器就向Pod的副本控制器(Deployment、RC或ReplicaSet）发起scale操作，调整Pod的副本数量，完成扩缩容操作。</p><h3 id="kubernetes-service类型" tabindex="-1"><a class="header-anchor" href="#kubernetes-service类型" aria-hidden="true">#</a> Kubernetes Service类型？</h3><p>通过创建Service，可以为一组具有相同功能的容器应用提供一个统一的入口地址，并且将请求负载分发到后端的各个容器应用上。其主要类型有：</p><ul><li><p>ClusterIP：虚拟的服务IP地址，该地址用于Kubernetes集群内部的Pod访问，在Node上kube- proxy通过设置的iptables规则进行转发</p></li><li><p>NodePort：使用宿主机的端口，使能够访问各Node的外部客户端通过Node的IP地址和端口号就能访问服务</p></li><li><p>LoadBalancer：使用外接负载均衡器完成到服务的负载分发，需要在spec.status.loadBalancer字段指定外部负载均衡器的IP地址，通常用于公有云</p></li></ul><h3 id="kubernetes-service分发后端的策略" tabindex="-1"><a class="header-anchor" href="#kubernetes-service分发后端的策略" aria-hidden="true">#</a> Kubernetes Service分发后端的策略？</h3><ul><li><p>Service负载分发的策略有：RoundRobin和SessionAffinity</p></li><li><p>RoundRobin：默认为轮询模式，即轮询将请求转发到后端的各个Pod上</p></li><li><p>SessionAffinity：基于客户端IP地址进行会话保持的模式，即第1次将某个客户端发起的请求转发到后端的某个Pod上，之后从相同的客户端发起的请求都将被转发到后端相同的Pod上</p></li></ul><h3 id="kubernetes-headless-service" tabindex="-1"><a class="header-anchor" href="#kubernetes-headless-service" aria-hidden="true">#</a> Kubernetes Headless Service？</h3><p>在某些应用场景中，若需要人为指定负载均衡器，不使用Service提供的默认负载均衡的功能，或者应用程序希望知道属于同组服务的其他实例。Kubernetes提供了Headless Service来实现这种功能，即不为Service设置ClusterIP(入口IP地址），仅通过Label Selector将后端的Pod列表返回给调用的客户端。</p><h3 id="kubernetes外部如何访问集群内的服务" tabindex="-1"><a class="header-anchor" href="#kubernetes外部如何访问集群内的服务" aria-hidden="true">#</a> Kubernetes外部如何访问集群内的服务？</h3><p>对于Kubernetes，集群外的客户端默认情况，无法通过Pod的IP地址或者Service的虚拟IP地址：虚拟端口 号进行访问。通常可以通过以下方式进行访问Kubernetes集群内的服务：</p><ul><li><p>映射Pod到物理机：将Pod端口号映射到宿主机，即在Pod中采用hostPort方式，以使客户端应用能够通过物理机访问容器应用。</p></li><li><p>映射Service到物理机：将Service端口号映射到宿主机，即在Service中采用nodePort方式，以使客户端 应用能够通过物理机访问容器应用。</p></li><li><p>映射Sercie到LoadBalancer：通过设置LoadBalancer映射到云服务商提供的LoadBalancer地址。这种 用法仅用于在公有云服务提供商的云平台上设置Service的场景。</p></li></ul><h3 id="kubernetes-ingress" tabindex="-1"><a class="header-anchor" href="#kubernetes-ingress" aria-hidden="true">#</a> Kubernetes ingress？</h3><p>Kubernetes的Ingress资源对象，用于将不同URL的访问请求转发到后端不同的Service，以实现HTTP层的业务路由机制。</p><p>Kubernetes使用了Ingress策略和Ingress Controller，两者结合并实现了一个完整的Ingress负载均衡器。使用Ingress进行负载分发时，Ingress Controller基于Ingress规则将客户端请求直接转发到Service 对应的后端Endpoint(Pod）上，从而跳过kube-proxy的转发功能，kube-proxy不再起作用，全过程为：ingress controller + ingress 规则 &gt; services。</p><p>同时当Ingress Controller提供的是对外服务，则实际上实现的是边缘路由器的功能。</p><h3 id="kubernetes的负载均衡器" tabindex="-1"><a class="header-anchor" href="#kubernetes的负载均衡器" aria-hidden="true">#</a> Kubernetes的负载均衡器？</h3><p>负载均衡器是暴露服务的最常见和标准方式之一。 根据工作环境使用两种类型的负载均衡器，即内部负载均衡器或外部负载均衡器。内部负载均衡器自动 平衡负载并使用所需配置分配容器，而外部负载均衡器将流量从外部负载引导至后端容器。</p><h3 id="kubernetes各模块如何与api-server通信" tabindex="-1"><a class="header-anchor" href="#kubernetes各模块如何与api-server通信" aria-hidden="true">#</a> Kubernetes各模块如何与API Server通信？</h3><p>Kubernetes API Server作为集群的核心，负责集群各功能模块之间的通信。集群内的各个功能模块通过API Server将信息存入etcd，当需要获取和操作这些数据时，则通过API Server提供的REST接口(用GET、LIST或WATCH方法）来实现，从而实现各模块之间的信息交互。 如kubelet进程与API Server的交互：每个Node上的kubelet每隔一个时间周期，就会调用一次API Server的REST接口报告自身状态，API Server在接收到这些信息后，会将节点状态信息更新到etcd中。 如kube-controller-manager进程与API Server的交互：kube-controller-manager中的Node Controller 模块通过API Server提供的Watch接口实时监控Node的信息，并做相应处理。 如kube-scheduler进程与API Server的交互：Scheduler通过API Server的Watch接口监听到新建Pod副本的信息后，会检索所有符合该Pod要求的Node列表，开始执行Pod调度逻辑，在调度成功后将Pod绑定到目标节点上。</p><h3 id="kubernetes-scheduler作用及实现原理" tabindex="-1"><a class="header-anchor" href="#kubernetes-scheduler作用及实现原理" aria-hidden="true">#</a> Kubernetes Scheduler作用及实现原理？</h3><p>Kubernetes Scheduler是负责Pod调度的重要功能模块，Kubernetes Scheduler在整个系统中承担了“承上启下”的重要功能，“承上”是指它负责接收Controller Manager创建的新Pod，为其调度至目标 Node；“启下”是指调度完成后，目标Node上的kubelet服务进程接管后继工作，负责Pod接下来生命周 期。 Kubernetes Scheduler的作用是将待调度的Pod(API新创建的Pod、Controller Manager为补足副本而创建的Pod等）按照特定的调度算法和调度策略绑定(Binding）到集群中某个合适的Node上，并将绑定信息写入etcd中。 在整个调度过程中涉及三个对象，分别是待调度Pod列表、可用Node列表，以及调度算法和策略。</p><p>Kubernetes Scheduler通过调度算法调度为待调度Pod列表中的每个Pod从Node列表中选择一个最适合的Node来实现Pod的调度。随后，目标节点上的kubelet通过API Server监听到Kubernetes Scheduler 产生的Pod绑定事件，然后获取对应的Pod清单，下载Image镜像并启动容器。</p><h3 id="kubernetes-scheduler使用哪两种算法将pod绑定到worker节点" tabindex="-1"><a class="header-anchor" href="#kubernetes-scheduler使用哪两种算法将pod绑定到worker节点" aria-hidden="true">#</a> Kubernetes Scheduler使用哪两种算法将Pod绑定到worker节点？</h3><p>Kubernetes Scheduler根据如下两种调度算法将 Pod 绑定到最合适的工作节点： 预选(Predicates）：输入是所有节点，输出是满足预选条件的节点。kube-scheduler根据预选策略过滤掉不满足策略的Nodes。如果某节点的资源不足或者不满足预选策略的条件则无法通过预选。如 “Node的label必须与Pod的Selector一致”。 优选(Priorities）：输入是预选阶段筛选出的节点，优选会根据优先策略为通过预选的Nodes进行打分 排名，选择得分最高的Node。例如，资源越富裕、负载越小的Node可能具有越高的排名。</p><h3 id="kubernetes-kubelet的作用" tabindex="-1"><a class="header-anchor" href="#kubernetes-kubelet的作用" aria-hidden="true">#</a> Kubernetes kubelet的作用？</h3><p>在Kubernetes集群中，在每个Node(又称Worker）上都会启动一个kubelet服务进程。该进程用于处 理Master下发到本节点的任务，管理Pod及Pod中的容器。每个kubelet进程都会在API Server上注册节点自身的信息，定期向Master汇报节点资源的使用情况，并通过cAdvisor监控容器和节点资源。</p><h3 id="kubernetes-kubelet监控worker节点资源是使用什么组件来实现的" tabindex="-1"><a class="header-anchor" href="#kubernetes-kubelet监控worker节点资源是使用什么组件来实现的" aria-hidden="true">#</a> Kubernetes kubelet监控Worker节点资源是使用什么组件来实现的？</h3><p>kubelet使用cAdvisor对worker节点资源进行监控。在 Kubernetes 系统中，cAdvisor 已被默认集成到kubelet 组件内，当 kubelet 服务启动时，它会自动启动 cAdvisor 服务，然后 cAdvisor 会实时采集所在节点的性能指标及在节点上运行的容器的性能指标。</p><h3 id="kubernetes如何保证集群的安全性" tabindex="-1"><a class="header-anchor" href="#kubernetes如何保证集群的安全性" aria-hidden="true">#</a> Kubernetes如何保证集群的安全性？</h3><p>Kubernetes通过一系列机制来实现集群的安全控制，主要有如下不同的维度： 基础设施方面：保证容器与其所在宿主机的隔离； 权限方面： 最小权限原则：合理限制所有组件的权限，确保组件只执行它被授权的行为，通过限制单个组件的 能力来限制它的权限范围。 用户权限：划分普通用户和管理员的角色。集群方面： API Server的认证授权：Kubernetes集群中所有资源的访问和变更都是通过Kubernetes API Server来实现的，因此需要建议采用更安全的HTTPS或Token来识别和认证客户端身份 (Authentication），以及随后访问权限的授权(Authorization）环节。 API Server的授权管理：通过授权策略来决定一个API调用是否合法。对合法用户进行授权并且随后在用户访问时进行鉴权，建议采用更安全的RBAC方式来提升集群安全授权。 敏感数据引入Secret机制：对于集群敏感数据建议使用Secret方式进行保护。 AdmissionControl(准入机制）：对kubernetes api的请求过程中，顺序为：先经过认证 &amp; 授权，然后执行准入操作，最后对目标对象进行操作。</p><h3 id="kubernetes准入机制" tabindex="-1"><a class="header-anchor" href="#kubernetes准入机制" aria-hidden="true">#</a> Kubernetes准入机制？</h3><p>在对集群进行请求时，每个准入控制代码都按照一定顺序执行。如果有一个准入控制拒绝了此次请求， 那么整个请求的结果将会立即返回，并提示用户相应的error信息。 准入控制(AdmissionControl）准入控制本质上为一段准入代码，在对kubernetes api的请求过程中， 顺序为：先经过认证 &amp; 授权，然后执行准入操作，最后对目标对象进行操作。常用组件(控制代码）如下： AlwaysAdmit： 允 许 所 有 请 求 AlwaysDeny：禁止所有请求，多用于测试环境。 ServiceAccount：它将serviceAccounts实现了自动化，它会辅助serviceAccount做一些事情，比 如如果pod没有serviceAccount属性，它会自动添加一个default，并确保pod的serviceAccount始 终存在。 LimitRanger：观察所有的请求，确保没有违反已经定义好的约束条件，这些条件定义在namespace 中 LimitRange 对 象 中 。 NamespaceExists：观察所有的请求，如果请求尝试创建一个不存在的namespace，则这个请求被拒绝。</p><h3 id="kubernetes-rbac及其特点-优势" tabindex="-1"><a class="header-anchor" href="#kubernetes-rbac及其特点-优势" aria-hidden="true">#</a> Kubernetes RBAC及其特点(优势）？</h3><p>RBAC是基于角色的访问控制，是一种基于个人用户的角色来管理对计算机或网络资源的访问的方法。相对于其他授权模式，RBAC具有如下优势： 对集群中的资源和非资源权限均有完整的覆盖。 整个RBAC完全由几个API对象完成， 同其他API对象一样， 可以用kubectl或API进行操作。可以在运行时进行调整，无须重新启动API Server。</p><h3 id="kubernetes-secret作用" tabindex="-1"><a class="header-anchor" href="#kubernetes-secret作用" aria-hidden="true">#</a> Kubernetes Secret作用？</h3><p>Secret对象，主要作用是保管私密数据，比如密码、OAuth Tokens、SSH Keys等信息。将这些私密信息放在Secret对象中比直接放在Pod或Docker Image中更安全，也更便于使用和分发。</p><h3 id="kubernetes-secret有哪些使用方式" tabindex="-1"><a class="header-anchor" href="#kubernetes-secret有哪些使用方式" aria-hidden="true">#</a> Kubernetes Secret有哪些使用方式？</h3><p>创建完secret之后，可通过如下三种方式使用： 在创建Pod时，通过为Pod指定Service Account来自动使用该Secret。通过挂载该Secret到Pod来使用它。 在Docker镜像下载时使用，通过指定Pod的spc.ImagePullSecrets来引用它。</p><h3 id="kubernetes-podsecuritypolicy机制" tabindex="-1"><a class="header-anchor" href="#kubernetes-podsecuritypolicy机制" aria-hidden="true">#</a> Kubernetes PodSecurityPolicy机制？</h3><p>Kubernetes PodSecurityPolicy是为了更精细地控制Pod对资源的使用方式以及提升安全策略。在开启PodSecurityPolicy准入控制器后，Kubernetes默认不允许创建任何Pod，需要创建PodSecurityPolicy 策略和相应的RBAC授权策略(Authorizing Policies），Pod才能创建成功。</p><h3 id="kubernetes-podsecuritypolicy机制能实现哪些安全策略" tabindex="-1"><a class="header-anchor" href="#kubernetes-podsecuritypolicy机制能实现哪些安全策略" aria-hidden="true">#</a> Kubernetes PodSecurityPolicy机制能实现哪些安全策略？</h3><p>在PodSecurityPolicy对象中可以设置不同字段来控制Pod运行时的各种安全策略，常见的有： 特权模式：privileged是否允许Pod以特权模式运行。 宿主机资源：控制Pod对宿主机资源的控制，如hostPID：是否允许Pod共享宿主机的进程空间。 用户和组：设置运行容器的用户ID(范围）或组(范围）。 提升权限：AllowPrivilegeEscalation：设置容器内的子进程是否可以提升权限，通常在设置非root 用户(MustRunAsNonRoot）时进行设置。</p><p>SELinux：进行SELinux的相关配置。</p><h3 id="kubernetes网络模型" tabindex="-1"><a class="header-anchor" href="#kubernetes网络模型" aria-hidden="true">#</a> Kubernetes网络模型？</h3><p>Kubernetes网络模型中每个Pod都拥有一个独立的IP地址，并假定所有Pod都在一个可以直接连通的、 扁平的网络空间中。所以不管它们是否运行在同一个Node(宿主机）中，都要求它们可以直接通过对方 的IP进行访问。设计这个原则的原因是，用户不需要额外考虑如何建立Pod之间的连接，也不需要考虑 如何将容器端口映射到主机端口等问题。 同时为每个Pod都设置一个IP地址的模型使得同一个Pod内的不同容器会共享同一个网络命名空间，也就是同一个Linux网络协议栈。这就意味着同一个Pod内的容器可以通过localhost来连接对方的端口。 在Kubernetes的集群里，IP是以Pod为单位进行分配的。一个Pod内部的所有容器共享一个网络堆栈 (相当于一个网络命名空间，它们的IP地址、网络设备、配置等都是共享的）。</p><h3 id="kubernetes-cni模型" tabindex="-1"><a class="header-anchor" href="#kubernetes-cni模型" aria-hidden="true">#</a> Kubernetes CNI模型？</h3><p>CNI提供了一种应用容器的插件化网络解决方案，定义对容器网络进行操作和配置的规范，通过插件的形式对CNI接口进行实现。CNI仅关注在创建容器时分配网络资源，和在销毁容器时删除网络资源。在CNI模型中只涉及两个概念：容器和网络。 容器(Container）：是拥有独立Linux网络命名空间的环境，例如使用Docker或rkt创建的容器。容器需要拥有自己的Linux网络命名空间，这是加入网络的必要条件。 网络(Network）：表示可以互连的一组实体，这些实体拥有各自独立、唯一的IP地址，可以是容器、 物理机或者其他网络设备(比如路由器）等。 对容器网络的设置和操作都通过插件(Plugin）进行具体实现，CNI插件包括两种类型：CNI Plugin和IPAM(IP Address Management）Plugin。CNI Plugin负责为容器配置网络资源，IPAM Plugin负责对容器的IP地址进行分配和管理。IPAM Plugin作为CNI Plugin的一部分，与CNI Plugin协同工作。</p><h3 id="kubernetes网络策略" tabindex="-1"><a class="header-anchor" href="#kubernetes网络策略" aria-hidden="true">#</a> Kubernetes网络策略？</h3><p>为实现细粒度的容器间网络访问隔离策略，Kubernetes引入Network Policy。 Network Policy的主要功能是对Pod间的网络通信进行限制和准入控制，设置允许访问或禁止访问的客户端Pod列表。Network Policy定义网络策略，配合策略控制器(Policy Controller）进行策略的实现。</p><h3 id="kubernetes网络策略原理" tabindex="-1"><a class="header-anchor" href="#kubernetes网络策略原理" aria-hidden="true">#</a> Kubernetes网络策略原理？</h3><p>Network Policy的工作原理主要为：policy controller需要实现一个API Listener，监听用户设置的Network Policy定义，并将网络访问规则通过各Node的Agent进行实际设置(Agent则需要通过CNI网络插件实现）。</p><h3 id="kubernetes中flannel的作用" tabindex="-1"><a class="header-anchor" href="#kubernetes中flannel的作用" aria-hidden="true">#</a> Kubernetes中flannel的作用？</h3><p>Flannel可以用于Kubernetes底层网络的实现，主要作用有： 它能协助Kubernetes，给每一个Node上的Docker容器都分配互相不冲突的IP地址。 它能在这些IP地址之间建立一个覆盖网络(Overlay Network），通过这个覆盖网络，将数据包原封不动地传递到目标容器内。 53、Kubernetes Calico网络组件实现原理？ Calico是一个基于BGP的纯三层的网络方案，与OpenStack、Kubernetes、AWS、GCE等云平台都能够 良好地集成。</p><p>Calico在每个计算节点都利用Linux Kernel实现了一个高效的vRouter来负责数据转发。每个vRouter都通过BGP协议把在本节点上运行的容器的路由信息向整个Calico网络广播，并自动设置到达其他节点的路由转发规则。 Calico保证所有容器之间的数据流量都是通过IP路由的方式完成互联互通的。Calico节点组网时可以直接 利用数据中心的网络结构(L2或者L3），不需要额外的NAT、隧道或者Overlay Network，没有额外的封包解包，能够节约CPU运算，提高网络效率。</p><h3 id="kubernetes共享存储的作用" tabindex="-1"><a class="header-anchor" href="#kubernetes共享存储的作用" aria-hidden="true">#</a> Kubernetes共享存储的作用？</h3><p>Kubernetes对于有状态的容器应用或者对数据需要持久化的应用，因此需要更加可靠的存储来保存应用产生的重要数据，以便容器应用在重建之后仍然可以使用之前的数据。因此需要使用共享存储。</p><h3 id="kubernetes数据持久化的方式有哪些" tabindex="-1"><a class="header-anchor" href="#kubernetes数据持久化的方式有哪些" aria-hidden="true">#</a> Kubernetes数据持久化的方式有哪些？</h3><p>Kubernetes 通过数据持久化来持久化保存重要数据，常见的方式有： EmptyDir(空目录）：没有指定要挂载宿主机上的某个目录，直接由Pod内保部映射到宿主机上。类似 于docker中的manager volume。 场景： 只需要临时将数据保存在磁盘上，比如在合并/排序算法中； 作为两个容器的共享存储。 特性： 同个pod里面的不同容器，共享同一个持久化目录，当pod节点删除时，volume的数据也会被删除。 emptyDir的数据持久化的生命周期和使用的pod一致，一般是作为临时存储使用。 Hostpath：将宿主机上已存在的目录或文件挂载到容器内部。类似于docker中的bind mount挂载方式。 特性：增加了pod与节点之间的耦合。 PersistentVolume(简称PV）：如基于NFS服务的PV，也可以基于GFS的PV。它的作用是统一数据持久化目录，方便管理。</p><h3 id="kubernetes-pv和pvc" tabindex="-1"><a class="header-anchor" href="#kubernetes-pv和pvc" aria-hidden="true">#</a> Kubernetes PV和PVC？</h3><p>PV是对底层网络共享存储的抽象，将共享存储定义为一种“资源”。PVC则是用户对存储资源的一个“申请”。</p><h3 id="kubernetes-pv生命周期内的阶段" tabindex="-1"><a class="header-anchor" href="#kubernetes-pv生命周期内的阶段" aria-hidden="true">#</a> Kubernetes PV生命周期内的阶段？</h3><p>某个PV在生命周期中可能处于以下4个阶段(Phaes）之一。 Available：可用状态，还未与某个PVC绑定。Bound：已与某个PVC绑定。 Released：绑定的PVC已经删除，资源已释放，但没有被集群回收。Failed：自动资源回收失败。</p><h3 id="kubernetes所支持的存储供应模式" tabindex="-1"><a class="header-anchor" href="#kubernetes所支持的存储供应模式" aria-hidden="true">#</a> Kubernetes所支持的存储供应模式？</h3><p>Kubernetes支持两种资源的存储供应模式：静态模式(Static）和动态模式(Dynamic）。</p><p>静态模式：集群管理员手工创建许多PV，在定义PV时需要将后端存储的特性进行设置。 动态模式：集群管理员无须手工创建PV，而是通过StorageClass的设置对后端存储进行描述，标记为某 种类型。此时要求PVC对存储的类型进行声明，系统将自动完成PV的创建及与PVC的绑定。</p><h3 id="kubernetes-csi模型" tabindex="-1"><a class="header-anchor" href="#kubernetes-csi模型" aria-hidden="true">#</a> Kubernetes CSI模型？</h3><p>Kubernetes CSI是Kubernetes推出与容器对接的存储接口标准，存储提供方只需要基于标准接口进行存储插件的实现，就能使用Kubernetes的原生存储机制为容器提供存储服务。CSI使得存储提供方的代码能和Kubernetes代码彻底解耦，部署也与Kubernetes核心组件分离，显然，存储插件的开发由提供方 自行维护，就能为Kubernetes用户提供更多的存储功能，也更加安全可靠。 CSI包括CSI Controller和CSI Node： CSI Controller的主要功能是提供存储服务视角对存储资源和存储卷进行管理和操作。CSI Node的主要功能是对主机(Node）上的Volume进行管理和操作。</p><h3 id="kubernetes-worker节点加入集群的过程" tabindex="-1"><a class="header-anchor" href="#kubernetes-worker节点加入集群的过程" aria-hidden="true">#</a> Kubernetes Worker节点加入集群的过程？</h3><p>通常需要对Worker节点进行扩容，从而将应用系统进行水平扩展。主要过程如下： 1、在该Node上安装Docker、kubelet和kube-proxy服务； 2、然后配置kubelet和kubeproxy的启动参数，将Master URL指定为当前Kubernetes集群Master 的地址，最后启动这些服务； 3、通过kubelet默认的自动注册机制，新的Worker将会自动加入现有的Kubernetes集群中； 4、Kubernetes Master在接受了新Worker的注册之后，会自动将其纳入当前集群的调度范围。</p><h3 id="kubernetes-pod如何实现对节点的资源控制" tabindex="-1"><a class="header-anchor" href="#kubernetes-pod如何实现对节点的资源控制" aria-hidden="true">#</a> Kubernetes Pod如何实现对节点的资源控制？</h3><p>Kubernetes集群里的节点提供的资源主要是计算资源，计算资源是可计量的能被申请、分配和使用的基础资源。当前Kubernetes集群中的计算资源主要包括CPU、GPU及Memory。CPU与Memory是被Pod 使用的，因此在配置Pod时可以通过参数CPU Request及Memory Request为其中的每个容器指定所需使用的CPU与Memory量，Kubernetes会根据Request的值去查找有足够资源的Node来调度此Pod。 通常，一个程序所使用的CPU与Memory是一个动态的量，确切地说，是一个范围，跟它的负载密切相关：负载增加时，CPU和Memory的使用量也会增加。</p><h3 id="kubernetes-requests和limits如何影响pod的调度" tabindex="-1"><a class="header-anchor" href="#kubernetes-requests和limits如何影响pod的调度" aria-hidden="true">#</a> Kubernetes Requests和Limits如何影响Pod的调度？</h3><p>当一个Pod创建成功时，Kubernetes调度器(Scheduler）会为该Pod选择一个节点来执行。对于每种 计算资源(CPU和Memory）而言，每个节点都有一个能用于运行Pod的最大容量值。调度器在调度 时，首先要确保调度后该节点上所有Pod的CPU和内存的Requests总和，不超过该节点能提供给Pod使 用的CPU和Memory的最大容量值。</p><h3 id="kubernetes-metric-service" tabindex="-1"><a class="header-anchor" href="#kubernetes-metric-service" aria-hidden="true">#</a> Kubernetes Metric Service？</h3><p>在Kubernetes从1.10版本后采用Metrics Server作为默认的性能数据采集和监控，主要用于提供核心指标(Core Metrics），包括Node、Pod的CPU和内存使用指标。 对其他自定义指标(Custom Metrics）的监控则由Prometheus等组件来完成。</p><h3 id="kubernetes中-如何使用efk实现日志的统一管理" tabindex="-1"><a class="header-anchor" href="#kubernetes中-如何使用efk实现日志的统一管理" aria-hidden="true">#</a> Kubernetes中，如何使用EFK实现日志的统一管理？</h3><p>在Kubernetes集群环境中，通常一个完整的应用或服务涉及组件过多，建议对日志系统进行集中化管理，通常采用EFK实现。 EFK是 Elasticsearch、Fluentd 和 Kibana 的组合，其各组件功能如下： Elasticsearch：是一个搜索引擎，负责存储日志并提供查询接口； Fluentd：负责从 Kubernetes 搜集日志，每个node节点上面的fluentd监控并收集该节点上面的系统日志，并将处理过后的日志信息发送给Elasticsearch； Kibana：提供了一个 Web GUI，用户可以浏览和搜索存储在 Elasticsearch 中的日志。 通过在每台node上部署一个以DaemonSet方式运行的fluentd来收集每台node上的日志。Fluentd将 docker日志目录/var/lib/docker/containers和/var/log目录挂载到Pod中，然后Pod会在node节点 的/var/log/pods目录中创建新的目录，可以区别不同的容器日志输出，该目录下有一个日志文件链接到/var/lib/docker/contianers目录下的容器日志输出。</p><h3 id="kubernetes如何进行优雅的节点关机维护" tabindex="-1"><a class="header-anchor" href="#kubernetes如何进行优雅的节点关机维护" aria-hidden="true">#</a> Kubernetes如何进行优雅的节点关机维护？</h3><p>由于Kubernetes节点运行大量Pod，因此在进行关机维护之前，建议先使用kubectl drain将该节点的Pod进行驱逐，然后进行关机维护。</p><h3 id="kubernetes集群联邦" tabindex="-1"><a class="header-anchor" href="#kubernetes集群联邦" aria-hidden="true">#</a> Kubernetes集群联邦？</h3><p>Kubernetes集群联邦可以将多个Kubernetes集群作为一个集群进行管理。因此，可以在一个数据中心/ 云中创建多个Kubernetes集群，并使用集群联邦在一个地方控制/管理所有集群。</p><h3 id="helm及其优势" tabindex="-1"><a class="header-anchor" href="#helm及其优势" aria-hidden="true">#</a> Helm及其优势？</h3><p>Helm 是 Kubernetes 的软件包管理工具。类似 Ubuntu 中使用的apt、Centos中使用的yum 或者 Python中的 pip 一样。 Helm能够将一组K8S资源打包统一管理, 是查找、共享和使用为Kubernetes构建的软件的最佳方式。 Helm中通常每个包称为一个Chart，一个Chart是一个目录(一般情况下会将目录进行打包压缩，形成name-version.tgz格式的单一文件，方便传输和存储）。 Helm优势 在 Kubernetes中部署一个可以使用的应用，需要涉及到很多的 Kubernetes 资源的共同协作。使用 helm则具有如下优势： 统一管理、配置和更新这些分散的 k8s 的应用资源文件； 分发和复用一套应用模板； 将应用的一系列资源当做一个软件包管理。 对于应用发布者而言，可以通过 Helm 打包应用、管理应用依赖关系、管理应用版本并发布应用到软件仓库。 对于使用者而言，使用 Helm 后不用需要编写复杂的应用部署文件，可以以简单的方式在 Kubernetes 上查找、安装、升级、回滚、卸载应用程序。</p></div><!----><footer class="page-meta"><!----><div class="meta-item git-info"><!----><!----></div></footer><!----><div class="waline-wrapper" id="comment" darkmode="false" style="display:block;"><div data-waline provider="Waline" comment="true"><!--v-if--><div class="wl-comment"><!--v-if--><div class="wl-panel"><div class="wl-header item2"><!--[--><div class="wl-header-item"><label for="wl-nick">昵称</label><input id="wl-nick" class="wl-input wl-nick" name="nick" type="text" value></div><div class="wl-header-item"><label for="wl-mail">邮箱</label><input id="wl-mail" class="wl-input wl-mail" name="mail" type="email" value></div><!--]--></div><textarea id="wl-edit" class="wl-editor" placeholder="请留言。(填写邮箱可在被回复时收到邮件提醒)"></textarea><div class="wl-preview" style="display:none;"><hr><h4>预览:</h4><div class="wl-content"></div></div><div class="wl-footer"><div class="wl-actions"><a href="https://guides.github.com/features/mastering-markdown/" title="Markdown Guide" aria-label="Markdown is supported" class="wl-action" target="_blank" rel="noopener noreferrer"><svg width="16" height="16" ariaHidden="true"><path d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z" fill="currentColor"></path></svg></a><button type="button" class="wl-action" title="表情" style="display:none;"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M563.2 463.3 677 540c1.7 1.2 3.7 1.8 5.8 1.8.7 0 1.4-.1 2-.2 2.7-.5 5.1-2.1 6.6-4.4l25.3-37.8c1.5-2.3 2.1-5.1 1.6-7.8s-2.1-5.1-4.4-6.6l-73.6-49.1 73.6-49.1c2.3-1.5 3.9-3.9 4.4-6.6.5-2.7 0-5.5-1.6-7.8l-25.3-37.8a10.1 10.1 0 0 0-6.6-4.4c-.7-.1-1.3-.2-2-.2-2.1 0-4.1.6-5.8 1.8l-113.8 76.6c-9.2 6.2-14.7 16.4-14.7 27.5.1 11 5.5 21.3 14.7 27.4zM387 348.8h-45.5c-5.7 0-10.4 4.7-10.4 10.4v153.3c0 5.7 4.7 10.4 10.4 10.4H387c5.7 0 10.4-4.7 10.4-10.4V359.2c0-5.7-4.7-10.4-10.4-10.4zm333.8 241.3-41-20a10.3 10.3 0 0 0-8.1-.5c-2.6.9-4.8 2.9-5.9 5.4-30.1 64.9-93.1 109.1-164.4 115.2-5.7.5-9.9 5.5-9.5 11.2l3.9 45.5c.5 5.3 5 9.5 10.3 9.5h.9c94.8-8 178.5-66.5 218.6-152.7 2.4-5 .3-11.2-4.8-13.6zm186-186.1c-11.9-42-30.5-81.4-55.2-117.1-24.1-34.9-53.5-65.6-87.5-91.2-33.9-25.6-71.5-45.5-111.6-59.2-41.2-14-84.1-21.1-127.8-21.1h-1.2c-75.4 0-148.8 21.4-212.5 61.7-63.7 40.3-114.3 97.6-146.5 165.8-32.2 68.1-44.3 143.6-35.1 218.4 9.3 74.8 39.4 145 87.3 203.3.1.2.3.3.4.5l36.2 38.4c1.1 1.2 2.5 2.1 3.9 2.6 73.3 66.7 168.2 103.5 267.5 103.5 73.3 0 145.2-20.3 207.7-58.7 37.3-22.9 70.3-51.5 98.1-85 27.1-32.7 48.7-69.5 64.2-109.1 15.5-39.7 24.4-81.3 26.6-123.8 2.4-43.6-2.5-87-14.5-129zm-60.5 181.1c-8.3 37-22.8 72-43 104-19.7 31.1-44.3 58.6-73.1 81.7-28.8 23.1-61 41-95.7 53.4-35.6 12.7-72.9 19.1-110.9 19.1-82.6 0-161.7-30.6-222.8-86.2l-34.1-35.8c-23.9-29.3-42.4-62.2-55.1-97.7-12.4-34.7-18.8-71-19.2-107.9-.4-36.9 5.4-73.3 17.1-108.2 12-35.8 30-69.2 53.4-99.1 31.7-40.4 71.1-72 117.2-94.1 44.5-21.3 94-32.6 143.4-32.6 49.3 0 97 10.8 141.8 32 34.3 16.3 65.3 38.1 92 64.8 26.1 26 47.5 56 63.6 89.2 16.2 33.2 26.6 68.5 31 105.1 4.6 37.5 2.7 75.3-5.6 112.3z" fill="currentColor"></path></svg></button><button type="button" class="wl-action" title="表情包"><svg width="24" height="24" fill="currentcolor" viewBox="0 0 24 24"><path style="transform: translateY(0.5px)" d="M18.968 10.5H15.968V11.484H17.984V12.984H15.968V15H14.468V9H18.968V10.5V10.5ZM8.984 9C9.26533 9 9.49967 9.09367 9.687 9.281C9.87433 9.46833 9.968 9.70267 9.968 9.984V10.5H6.499V13.5H8.468V12H9.968V14.016C9.968 14.2973 9.87433 14.5317 9.687 14.719C9.49967 14.9063 9.26533 15 8.984 15H5.984C5.70267 15 5.46833 14.9063 5.281 14.719C5.09367 14.5317 5 14.2973 5 14.016V9.985C5 9.70367 5.09367 9.46933 5.281 9.282C5.46833 9.09467 5.70267 9.001 5.984 9.001H8.984V9ZM11.468 9H12.968V15H11.468V9V9Z"></path><path d="M18.5 3H5.75C3.6875 3 2 4.6875 2 6.75V18C2 20.0625 3.6875 21.75 5.75 21.75H18.5C20.5625 21.75 22.25 20.0625 22.25 18V6.75C22.25 4.6875 20.5625 3 18.5 3ZM20.75 18C20.75 19.2375 19.7375 20.25 18.5 20.25H5.75C4.5125 20.25 3.5 19.2375 3.5 18V6.75C3.5 5.5125 4.5125 4.5 5.75 4.5H18.5C19.7375 4.5 20.75 5.5125 20.75 6.75V18Z"></path></svg></button><input id="wl-image-upload" class="upload" type="file" accept=".png,.jpg,.jpeg,.webp,.bmp,.gif"><label for="wl-image-upload" class="wl-action" title="上传图片"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M784 112H240c-88 0-160 72-160 160v480c0 88 72 160 160 160h544c88 0 160-72 160-160V272c0-88-72-160-160-160zm96 640c0 52.8-43.2 96-96 96H240c-52.8 0-96-43.2-96-96V272c0-52.8 43.2-96 96-96h544c52.8 0 96 43.2 96 96v480z" fill="currentColor"></path><path d="M352 480c52.8 0 96-43.2 96-96s-43.2-96-96-96-96 43.2-96 96 43.2 96 96 96zm0-128c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm462.4 379.2-3.2-3.2-177.6-177.6c-25.6-25.6-65.6-25.6-91.2 0l-80 80-36.8-36.8c-25.6-25.6-65.6-25.6-91.2 0L200 728c-4.8 6.4-8 14.4-8 24 0 17.6 14.4 32 32 32 9.6 0 16-3.2 22.4-9.6L380.8 640l134.4 134.4c6.4 6.4 14.4 9.6 24 9.6 17.6 0 32-14.4 32-32 0-9.6-4.8-17.6-9.6-24l-52.8-52.8 80-80L769.6 776c6.4 4.8 12.8 8 20.8 8 17.6 0 32-14.4 32-32 0-8-3.2-16-8-20.8z" fill="currentColor"></path></svg></label><button type="button" class="wl-action" title="预览"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M710.816 654.301c70.323-96.639 61.084-230.578-23.705-314.843-46.098-46.098-107.183-71.109-172.28-71.109-65.008 0-126.092 25.444-172.28 71.109-45.227 46.098-70.756 107.183-70.756 172.106 0 64.923 25.444 126.007 71.194 172.106 46.099 46.098 107.184 71.109 172.28 71.109 51.414 0 100.648-16.212 142.824-47.404l126.53 126.006c7.058 7.06 16.297 10.979 26.406 10.979 10.105 0 19.343-3.919 26.402-10.979 14.467-14.467 14.467-38.172 0-52.723L710.816 654.301zm-315.107-23.265c-65.88-65.88-65.88-172.54 0-238.42 32.069-32.07 74.245-49.149 119.471-49.149 45.227 0 87.407 17.603 119.472 49.149 65.88 65.879 65.88 172.539 0 238.42-63.612 63.178-175.242 63.178-238.943 0zm0 0" fill="currentColor"></path><path d="M703.319 121.603H321.03c-109.8 0-199.469 89.146-199.469 199.38v382.034c0 109.796 89.236 199.38 199.469 199.38h207.397c20.653 0 37.384-16.645 37.384-37.299 0-20.649-16.731-37.296-37.384-37.296H321.03c-68.582 0-124.352-55.77-124.352-124.267V321.421c0-68.496 55.77-124.267 124.352-124.267h382.289c68.582 0 124.352 55.771 124.352 124.267V524.72c0 20.654 16.736 37.299 37.385 37.299 20.654 0 37.384-16.645 37.384-37.299V320.549c-.085-109.8-89.321-198.946-199.121-198.946zm0 0" fill="currentColor"></path></svg></button></div><div class="wl-info"><div class="wl-text-number">0 <!--v-if-->  字</div><button type="button" class="wl-btn">登录</button><button type="submit" class="primary wl-btn" title="Cmd|Ctrl + Enter"><!--[-->提交<!--]--></button></div><div class="wl-gif-popup"><input type="text" placeholder="搜索表情包"><div class="wl-gallery" style="gap:6px;"><!--[--><!--]--></div><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div></div><div class="wl-emoji-popup"><!--[--><!--]--><!--v-if--></div></div></div><!--v-if--></div><div class="wl-meta-head"><div class="wl-count"><!--v-if--> 评论</div><ul class="wl-sort"><!--[--><li class="active">按正序</li><li class="">按倒序</li><li class="">按热度</li><!--]--></ul></div><div class="wl-cards"><!--[--><!--]--></div><!--[--><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div><!--]--><div class="wl-power"> Powered by <a href="https://github.com/walinejs/waline" target="_blank" rel="noopener noreferrer"> Waline </a> v2.14.7</div></div></div><!----><!--]--></main><!--]--><!----></div><!--]--><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-8628a663.js" defer></script>
  </body>
</html>
